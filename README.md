# Инфраструктура

## Сервер

Вынес основную работу в класс: Server.js.

При подключении агентов к серверу, пингую их ручкой пинг на 200,
если ошибка - убираю их из списка агентов. Конечно, не понятно, что делать с билдом в такой ситуации.
Исхожу из того, что если с агентом проблемы - пойдем смотреть ручками, что с ним.

Если подключается агент, который уже был на сервере ранее, значит, он перезагрузился,
и я ставлю его на статус - свободен. Билд теряется. Опять же - идем смотреть руками.

## Агент

Вынес основную работу в класс: Agent.js

При ошибки или потери соединения, делаю ретрай, вынесено в метод класса Agent.retry